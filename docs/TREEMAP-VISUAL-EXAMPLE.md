# Treemap Dashboard Visual Example

## Sample Room Layout

For a home with the following rooms and device counts:
- Living Room: 24 devices
- Bedroom: 18 devices
- Kitchen: 12 devices
- Bathroom: 8 devices
- Office: 6 devices
- Garage: 4 devices

## Treemap Layout Visualization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DASHBOARD                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                             â”‚                             â”‚       â”‚
â”‚  â”‚      LIVING ROOM            â”‚         BEDROOM             â”‚       â”‚
â”‚  â”‚          [24]               â”‚           [18]              â”‚       â”‚
â”‚  â”‚                             â”‚                             â”‚       â”‚
â”‚  â”‚  [device] [device] [device] â”‚  [device] [device]          â”‚       â”‚
â”‚  â”‚  [device] [device] [device] â”‚  [device] [device]          â”‚       â”‚
â”‚  â”‚  [device] [device]  +16     â”‚  [device] [device]  +10     â”‚       â”‚
â”‚  â”‚                             â”‚                             â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚              â”‚              â”‚                             â”‚       â”‚
â”‚  â”‚   KITCHEN    â”‚  BATHROOM    â”‚         OFFICE              â”‚       â”‚
â”‚  â”‚     [12]     â”‚     [8]      â”‚           [6]               â”‚       â”‚
â”‚  â”‚              â”‚              â”‚                             â”‚       â”‚
â”‚  â”‚  [device]    â”‚  [device]    â”‚  [device] [device]          â”‚       â”‚
â”‚  â”‚  [device]    â”‚  [device]    â”‚  [device] [device]          â”‚       â”‚
â”‚  â”‚   +4         â”‚              â”‚                             â”‚       â”‚
â”‚  â”‚              â”‚              â”‚                             â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚                             â”‚                             â”‚       â”‚
â”‚  â”‚         GARAGE              â”‚                             â”‚       â”‚
â”‚  â”‚           [4]               â”‚                             â”‚       â”‚
â”‚  â”‚                             â”‚                             â”‚       â”‚
â”‚  â”‚  [device] [device]          â”‚                             â”‚       â”‚
â”‚  â”‚  [device] [device]          â”‚                             â”‚       â”‚
â”‚  â”‚                             â”‚                             â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Visual Features

### 1. Proportional Sizing
- **Living Room (24 devices)**: Largest tile, ~33% of total area
- **Bedroom (18 devices)**: Second largest, ~25% of total area
- **Kitchen (12 devices)**: Medium tile, ~17% of total area
- **Bathroom (8 devices)**: Smaller tile, ~11% of total area
- **Office (6 devices)**: Small tile, ~8% of total area
- **Garage (4 devices)**: Smallest tile, ~6% of total area

### 2. Mondrian Colors
Each room gets a consistent color from the Mondrian palette:
- Living Room: Light Red (`#FFE8E8`)
- Bedroom: Light Blue (`#E8F0FF`)
- Kitchen: Light Yellow (`#FFFBE8`)
- Bathroom: White (`#FEFEFE`)
- Office: Light Red Variant (`#FFF5F5`)
- Garage: Light Blue Variant (`#F0F5FF`)

### 3. Bold Typography
- Room names: **UPPERCASE, BOLD (700), SANS-SERIF**
- Device count badge: **Black square with white text**
- Letter spacing: 0.05em for clarity

### 4. Interactive Elements

**Hover State**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚  â† Scales up 1.02x
â”‚      LIVING ROOM            â”‚  â† Drop shadow appears
â”‚          [24]               â”‚
â”‚                             â”‚
â”‚  [device] [device] [device] â”‚
â”‚  [device] [device] [device] â”‚
â”‚  [device] [device]  +16     â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Click Action**:
- Navigates to: `/rooms?room=Living%20Room`
- Shows all devices in that room

### 5. Responsive Behavior

**Desktop (1200px+)**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           â”‚                           â”‚
â”‚      LIVING ROOM          â”‚         BEDROOM           â”‚
â”‚          [24]             â”‚           [18]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Tablet (768px)**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LIVING ROOM    â”‚
â”‚      [24]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   BEDROOM       â”‚
â”‚     [18]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Mobile (375px)**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LIVING Râ€¦ â”‚
â”‚    [24]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ BEDROOM   â”‚
â”‚   [18]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Aspect Ratio Optimization

The squarified algorithm optimizes for aspect ratios close to 1 (square):

**Good Layout** (squarified):
```
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚  A   â”‚  B   â”‚  Aspect ratios: A=1.2, B=1.3, C=1.1
â”‚      â”œâ”€â”€â”€â”€â”€â”€â”¤  All close to 1 (square-like)
â”‚      â”‚  C   â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

**Bad Layout** (not optimized):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       A        â”‚  Aspect ratio: A=4.0 (very elongated)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       B        â”‚  Aspect ratio: B=3.5 (very elongated)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       C        â”‚  Aspect ratio: C=3.0 (very elongated)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Black Borders (Mondrian Style)

The treemap uses 3px gaps between tiles, creating bold black borders:

```
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–ˆ                       â–ˆ       â–ˆ
â–ˆ   LIVING ROOM         â–ˆ  BED  â–ˆ
â–ˆ       [24]            â–ˆ  [18] â–ˆ
â–ˆ                       â–ˆ       â–ˆ
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–ˆ           â–ˆ           â–ˆ       â–ˆ
â–ˆ  KITCHEN  â–ˆ  BATH     â–ˆ OFFIC â–ˆ
â–ˆ    [12]   â–ˆ   [8]     â–ˆ  [6]  â–ˆ
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
```

The black (`#000`) background shows through the gaps, creating the characteristic Mondrian grid effect.

## Device Mini-Cards

Each tile shows up to 8 device mini-cards:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   LIVING ROOM  [24]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       â”‚
â”‚  â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â” â”‚  â† First 4 devices
â”‚  â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â”‚
â”‚                       â”‚
â”‚  â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â” â”‚  â† Next 4 devices
â”‚  â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â”‚
â”‚                       â”‚
â”‚       â”Œâ”€â”€â”€â”€â”          â”‚  â† "+16 more" indicator
â”‚       â”‚+16 â”‚          â”‚
â”‚       â””â”€â”€â”€â”€â”˜          â”‚
â”‚                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Real-World Example

With actual device names:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   LIVING ROOM            [24]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  â”‚
â”‚  ğŸ’¡ Lamp    ğŸ“º TV   ğŸŒ¡ï¸ Thermo   â”‚
â”‚  ğŸ”Œ Outlet  ğŸµ Sonos  ğŸªŸ Blind   â”‚
â”‚  ğŸ’¡ Light   ğŸšª Lock   +16 more   â”‚
â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Performance Characteristics

**Algorithm Complexity**:
- Time: O(n log n) where n = number of rooms
- Space: O(n) for rectangles array

**Typical Performance**:
- 10 rooms: ~0.5ms to compute layout
- 20 rooms: ~0.8ms to compute layout
- 50 rooms: ~1.5ms to compute layout

**Responsive Recalculation**:
- ResizeObserver triggers on window resize
- Svelte `$derived` memoizes and only recalculates when needed
- Smooth, no visual jank

## Comparison: Before vs After

### Before (CSS Grid)
```
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
â”‚ A  â”‚ A  â”‚ A  â”‚ B  â”‚ B  â”‚ C  â”‚ C  â”‚ D  â”‚  â† Fixed grid units
â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    Not proportional
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜
```

### After (Treemap)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚                 â”‚
â”‚        A        â”‚        B        â”‚  â† Proportional sizing
â”‚                 â”‚                 â”‚    Optimized aspect ratios
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    Dynamic layout
â”‚    C    â”‚   D   â”‚        E        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Accessibility

**Keyboard Navigation**:
- All tiles are `tabindex="0"` (keyboard accessible)
- Visual focus states on tab

**Screen Readers**:
- Each tile has `role="button"`
- Room name and device count announced

**Color Contrast**:
- Black text on light backgrounds (WCAG AA compliant)
- Device count badge: White on black (high contrast)
